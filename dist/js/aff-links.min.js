var message;$(document).ready(function(){$(document).on("click",".btn-copy-link-js",function(e){e.preventDefault();const $btn=$(this);const targetId=$btn.data("clipboard-target");const $input=$("#"+targetId);if(!$input.length){console.warn("Copy button target not found:",targetId);return}const textToCopy=$input.val().trim();console.log(textToCopy);if(!textToCopy){return}copyTextToClipboard(textToCopy).then(function(success){$btn.find(".copy-label-js").addClass("d-none");$btn.find(".copied-label-js").removeClass("d-none");setTimeout(function(){$btn.find(".copy-label-js").removeClass("d-none");$btn.find(".copied-label-js").addClass("d-none")},2e3);if(!success){}})});function checkInput($input){const value=$input.val().trim();if(!value){message=translations.urlRequired;return false}if(!UrlUtils.isValidUrl(value)||!UrlUtils.isSameDomain(site_url,value)){message=translations.urlInvalid;return false}return true}$(document).on("input","#generate-link-input-js",function(){$(this).removeClass("is-invalid");$(this).next().removeClass("d-block")}).on("blur","#generate-link-input-js",function(){if(!checkInput($(this))){$(this).addClass("is-invalid");$(this).next().addClass("d-block").text(message)}});$(document).on("click","#btn-generate-link-js",function(e){e.preventDefault();const $btn=$(this);const $input=$("#generate-link-input-js");const $feedback=$input.next(".invalid-feedback");const custom_url=$input.val().trim();$input.removeClass("is-invalid");$feedback.removeClass("d-block").text("");$("#generated-element-js").addClass("d-none");if(!checkInput($input)){$input.addClass("is-invalid");$feedback.addClass("d-block").text(message)}else{$btn.find(".generate-label-js").addClass("d-none");$btn.find(".generated-label-js").removeClass("d-none");setTimeout(function(){$btn.find(".generate-label-js").removeClass("d-none");$btn.find(".generated-label-js").addClass("d-none")},2e3);var affiliate_url=UrlUtils.addQueryParam(affKey,affValue,custom_url);$("#generated-link-input-js").val(affiliate_url);$("#generated-element-js").removeClass("d-none")}})});