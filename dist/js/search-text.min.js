function renderSearchHistory(){let searchHistory=getCompatibleSearchHistoryFromLocalStorage();if(searchHistory.data.length===0){return}const $searchHistoryList=$("#search-history-items-js");searchHistory.data.forEach(function(keyword){const $listItem=$("<li>",{class:"q-js py-2 px-2",text:keyword});$searchHistoryList.append($listItem)});$("#search-history-js").removeClass("d-none")}$(function(){pullSearchHistory(pullSearchHistoryUrl);renderSearchHistory();$("#removeDialog .btn-primary").click(function(){removeSearchFromLocalStorage();removeHistory(removeHistoryUrl);location.reload()});const $input=$("#q");const $btnClearContainer=$("#btn-clear-container-js");const $btnContainer=$("#btn-container-js");$input.on("input focus",function(){const q=$(this).val().trim();if(q.length>0){$btnClearContainer.removeClass("d-none");$btnContainer.addClass("d-none")}else{$btnClearContainer.addClass("d-none");$btnContainer.removeClass("d-none")}});$btnClearContainer.on("click",function(){$input.val("").focus();$(this).addClass("d-none");$btnContainer.removeClass("d-none")});$("#searchForm").on("submit",function(e){if(!$input.val().trim()){e.preventDefault();$input.focus();return false}});$(".q-js").click(function(){const search_text=$(this).text();$("#q").val(search_text);$("#searchForm").submit()})});