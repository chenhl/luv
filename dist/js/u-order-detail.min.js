function updateOrderStatus(data){$("#order-actions-js").html(data.actions);$("#order-status-js").text(data.statusIcon+data.statusText)}function CancelOrder(order_sn){$.ajax({url:cancelUrl,type:"post",data:{[csrfName]:csrfVal,order_sn:order_sn},success:function(data){if(data.status=="success"){showToast(translations.cancelSuccess,"#toast-js")}updateOrderStatus(data);$("#orderActionsModal").modal("hide")},error:function(){alert("Network error")}})}function ReceiptOrder(order_sn){$.ajax({url:receiptUrl,type:"post",data:{[csrfName]:csrfVal,order_sn:order_sn},success:function(data){if(data.status=="success"){showToast(translations.receiptSuccess,"#toast-js")}updateOrderStatus(data);$("#orderActionsModal").modal("hide")},error:function(){alert("Network error")}})}$(document).ready(function(){const lazyLoadInstance=new LazyLoad({});$("#orderActionsModal").on("show.bs.modal",function(event){const $button=$(event.relatedTarget);const source=$button.data("source");const orderSN=$button.data("order-sn");$(this).data("current-order-sn",orderSN);$(this).data("current-source",source);if(source==="cancel"){$("#orderActionsModal .modal-title").text(translations.cancelTitle);$("#orderActionsModal .modal-body").text(translations.cancelBody);$("#orderActionsModal .modal-footer .btn-primary").text(translations.yesCancel);$("#orderActionsModal .modal-footer .btn-secondary").text(translations.no)}else if(source==="receipt"){$("#orderActionsModal .modal-title").text(translations.receiptTitle);$("#orderActionsModal .modal-body").text(translations.receiptBody);$("#orderActionsModal .modal-footer .btn-primary").text(translations.yesReceived);$("#orderActionsModal .modal-footer .btn-secondary").text(translations.notYet)}});$("#orderActionsModal").on("click",".btn-primary",function(){const modal=$("#orderActionsModal");const source=modal.data("current-source");const orderSN=modal.data("current-order-sn");if(source==="cancel"){CancelOrder(orderSN)}else if(source==="receipt"){ReceiptOrder(orderSN)}})});